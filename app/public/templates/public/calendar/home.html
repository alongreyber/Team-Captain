{% extends 'public/calendar/base.html' %}

{% block calendar_content %}
<div class="level">
    <div class="level-left">
	<h1 class="level-item title is-1">Events</h1>
    </div>
    <div class="level-right">
	<a class="level-item button is-primary" href="{{url_for('public.calendar_new')}}" >New Calendar</a>
    </div>
</div>

{# Initialize fullcalendar #}
<link href='https://unpkg.com/@fullcalendar/core/main.min.css' rel='stylesheet' />
<link href='https://unpkg.com/@fullcalendar/daygrid/main.min.css' rel='stylesheet' />
<link href='https://unpkg.com/@fullcalendar/timegrid/main.min.css' rel='stylesheet' />

<script src='https://unpkg.com/@fullcalendar/core@4.1.0/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/daygrid/main.min.js'></script>
<script src='https://unpkg.com/@fullcalendar/timegrid/main.min.js'></script>


<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      header: { center: 'dayGridMonth,timeGridWeek' },
      plugins: [ 'dayGrid', 'timeGrid' ],
      events: {{events_for_fullcalendar|tojson}},
      aspectRatio: 1.8
    });

    calendar.render();
  });

</script>

<div id="calendar">
</div>
{% endblock %}
