{% extends 'public/base.html' %}

{% block public_content %}
<h1 class="title is-1">{{tu.task.subject}}</h1>

<br />
{# Use a table to get these to align #}
<table>
    <tr style="height: 50px">
	<td>
	    <h3 class="title is-3">Due:&nbsp;</h3>
	</td>
	<td>
	    <h3 class="title is-3">{{tu.task.due|localize|format}}</h3>
	</td>
    </tr>
    {% if tu.completed %}
    <tr>
	<td>
	    <h3 class="title is-3">Completed:&nbsp;&nbsp;&nbsp;</h3>
	</td>
	<td>
	    <h3 class="title is-3">{{tu.completed|localize|format}}</h3>
	</td>
    </tr>
    {% endif %}
</table>
<br />
<br />
<br />

<div class="content is-medium" id="content-div" style="border: 1px solid gray; padding: 20px"></div>
<script>
    var md = window.markdownit();
    var input = {{tu.task.content|tojson}};
    var result = md.render(input);
    $('#content-div').html(result);
</script>

<br />

<a class="button is-medium is-primary " href="{{url_for('public.task_complete', id=tu.task.id)}}" {% if tu.completed %}disabled{% endif %}>
    I'm done!
</a>
{% endblock %}
