{% import 'helpers.html' as helpers %}
<html>
    <head>
	<!-- Our fonts -->
	<link href="https://fonts.googleapis.com/css?family=Arvo:400,700|Open+Sans&display=swap" rel="stylesheet">
	
	<!-- Font Awesome Icons -->
	<script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

	<!-- Main stylesheet -->
	<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/main.css')}}">

	<!-- Select2 Library for better multi-selects -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
	<script>
	    $(document).ready(function() {
		$('.select2').select2();
	    });
	</script>

	<!-- SimpleMDE Library -->
	<link rel="stylesheet" href="https://unpkg.com/easymde/dist/easymde.min.css">
	<script src="https://unpkg.com/easymde/dist/easymde.min.js"></script>

	<!-- Markdown-it Library -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/8.4.2/markdown-it.js"></script>

	<!-- AirDatePicker Library -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/air-datepicker@2.2.3/dist/css/datepicker.min.css">
	<script defer src="https://cdn.jsdelivr.net/npm/air-datepicker@2.2.3/dist/js/datepicker.min.js"></script>
	<script defer src="https://cdn.jsdelivr.net/npm/air-datepicker@2.2.3/dist/js/i18n/datepicker.en.js"></script>

	<!-- Our js -->
	<script src="{{url_for('static', filename='scripts/custom.js')}}"></script>
	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	{% block head %}{% endblock %}
	

	{% block title %}
	<title>Team Captain</title>
	{% endblock %}
    </head>
    <body>
	{% block nav %}{% endblock %}

	<div id="main-container">
	    {# If we have a message, display to user using a modal #}
	    {% set modal_title = session.pop('modal_title', None) %}
	    {% set modal_content = session.pop('modal_content', None) %}
	    <div class="modal {{ 'is-active' if modal_title }}" id="modal" >
	      <div class="modal-background"></div>
	      <div class="modal-content">
		<article class="message is-primary">
		  <div class="message-header">
		      <p>{{ modal_title }}</p>
		      <button class="delete" {{ helpers.toggle_active('modal') }}></button>
		  </div>
		  <div class="message-body is-size-5">
		      {{ modal_content }}
		  </div>
		</article>
	      </div>
	    </div>

	    {# Render a back button #}
	    <div class="columns is-fullheight">
		{% if self.sidebar() %}
		<div class="column is-sidebar-menu is-2">
		    {% block sidebar %}{% endblock %}
		</div>
		{% endif %}
		<div class="column container content-container">
		    {% with messages = get_flashed_messages(with_categories=true) %}
		    {% if messages %}
			{% for category, message in messages %}
			{% if category != 'feedback' %}
			<div class="notification is-{{ category }}" role="alert">
			    {{ message }}
			</div>
			{% endif %}
			{% endfor %}
		    {% endif %}
		    {% endwith %}

		    {% block content %}{% endblock %}
		</div>
	    </div>
	</div>
	<footer class="footer" id="footer" style="margin-top: 4rem">
	    <div class="content">
		<p>
		    Copyright &#169; 2019 Alon Greyber
		</p>
	    </div>
	</footer>
    </body>
</html>

